<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>Blather by itsdarklikehell</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Blather</h1>
        <h2>Speach interface made by Jezra.</h2>

        <section id="downloads">
          <a href="https://github.com/itsdarklikehell/blather/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/itsdarklikehell/blather/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/itsdarklikehell/blather" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>
<a id="blather" class="anchor" href="#blather" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Blather</h1>

<p>Blather is a speech recognizer made by Jezra (Jonathan Kulp) that will run commands when a user speaks preset sentences.</p>

<h2>
<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Requirements</h2>

<p>Download and run Blather-Installer (it will install dependencies and clone this git and set up configuration and such)</p>

<ol>
<li>pocketsphinx</li>
<li>gstreamer-0.10 (and what ever plugin has pocket sphinx support)</li>
<li>gstreamer-0.10 base plugins (required for alsa)</li>
<li>pyside (only required for the Qt based UI)</li>
<li>pygtk (only required for the Gtk based UI)</li>
<li>pyyaml (only required for reading the options file)<br>
</li>
</ol>

<p><strong>Note:</strong> it may also be required to install <code>pocketsphinx-hmm-en-hub4wsj</code></p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>

<ol>
<li>move commands.tmp to ~/.config/blather/commands.conf and fill the file with sentences and command to run</li>
<li>Run Blather.py, this will generate ~/.config/blather/sentences.corpus based on sentences in the 'commands' file</li>
<li>quit blather (there is a good chance it will just segfault)</li>
<li>go to <a href="http://www.speech.cs.cmu.edu/tools/lmtool.html">http://www.speech.cs.cmu.edu/tools/lmtool.html</a> and upload the sentences.corpus file</li>
<li>download the resulting XXXX.lm file to the ~/.config/blather/language directory and rename to file to 'lm'</li>
<li>download the resulting XXXX.dic file to the ~/.config/blather/language directory and rename to file to 'dic'</li>
<li>run Blather.py

<ul>
<li>for Qt GUI, run Blather.py -i q</li>
<li>for Gtk GUI, run Blather.py -i g</li>
<li>to start a UI in 'continuous' listen mode, use the -c flag</li>
<li>to use a microphone other than the system default, use the -m flag</li>
</ul>
</li>
<li>start talking</li>
</ol>

<p><strong>Note:</strong> to start Blather without needing to enter command line options all the time, copy options.yaml.tmp to ~/blather/config/options.yaml and edit accordingly.</p>

<h3>
<a id="bonus" class="anchor" href="#bonus" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Bonus</h3>

<p>once the sentences.corpus file has been created, run the language_updater.sh script to automate the process of creating and downloading language files.</p>

<h3>
<a id="examples" class="anchor" href="#examples" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Examples</h3>

<ul>
<li><p>To run blather with the GTK UI and start in continuous listen mode:<br>
<code>./Blather.py -i g -c</code></p></li>
<li><p>To run blather with no UI and using a USB microphone recognized and device 2:<br>
<code>./Blather.py -m 2</code></p></li>
<li>
<p>To have blather pass the matched sentence to the executing command:<br>
<code>./Blather.py -p</code>  </p>

<p><strong>explanation:</strong> if the commands.conf contains:<br>
<strong>good morning world : example_command.sh</strong><br>
then 3 arguments, 'good', 'morning', and 'world' would get passed to example_command.sh as<br>
<code>example_command.sh good morning world</code></p>
</li>
<li><p>To run a command when a valid sentence has been detected:<br>
<code>./Blather.py --valid-sentence-command=/path/to/command</code><br>
<strong>note:</strong> this can be set in the options.yml file</p></li>
<li>To run a command when a invalid sentence has been detected:<br>
<code>./Blather.py --invalid-sentence-command=/path/to/command</code><br>
<strong>note:</strong> this can be set in the options.yml file</li>
</ul>

<h3>
<a id="finding-the-device-number-of-a-usb-microphone" class="anchor" href="#finding-the-device-number-of-a-usb-microphone" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Finding the Device Number of a USB microphone</h3>

<p>There are a few ways to find the device number of a USB microphone.</p>

<ul>
<li><code>cat /proc/asound/cards</code></li>
<li><code>arecord -l</code></li>
</ul>
      </section>
    </div>

    
  </body>
</html>
